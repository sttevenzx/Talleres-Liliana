<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/style/style.css">
</head>
<body class="bg-gradient-to-br from-black to-purple-700 min-h-screen font-sans">
    <div class="max-w-7xl mx-auto p-4">
        <div class="bg-white/90 backdrop-blur rounded-2xl p-8 mb-8 shadow-lg text-center">
            <h1 class="text-gray-700 text-4xl font-bold mb-2">ğŸš€ Panel de Simulaciones JavaScript</h1>
            <p class="text-gray-500 text-lg">Administra y ejecuta simulaciones de promesas y programaciÃ³n asÃ­ncrona</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-[300px_1fr] gap-8 min-h-[70vh]">
            <div class="bg-white/90 backdrop-blur rounded-2xl p-6 shadow-lg overflow-y-auto">
                <h2 class="text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-5 font-semibold">ğŸ“‹ Simulaciones Disponibles</h2>
                <ul class="space-y-2">
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition active:bg-gradient-to-r active:from-green-400 active:to-green-600 simulation-btn" data-sim="control-errores">ğŸ›¡ï¸ Control de Errores</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="sensores">ğŸŒ¡ï¸ Sensores</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="inicia-promesa">â–¶ï¸ Inicia Promesa</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="rechaza">âŒ Rechaza</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="formulario">ğŸ“ Formulario</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="secuecias">ğŸ”„ Secuencias</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="tiempodiferentes">â±ï¸ Tiempo Diferentes</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="json">ğŸ“„ JSON</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="simuacion_database">ğŸ—„ï¸ SimulaciÃ³n Database</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="espera">â³ Espera</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="reintetar">ğŸ” Reintentar</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="cancelacion">ğŸš« CancelaciÃ³n</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="img_multipl">ğŸ–¼ï¸ ImÃ¡genes MÃºltiples</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="verificacionseec">âœ… VerificaciÃ³n</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="simulacion_compras">ğŸ›’ SimulaciÃ³n Compras</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="operacions">ğŸ”¢ Operaciones</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="leer_archv">ğŸ“– Leer Archivo</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="obtener_prefil">ğŸ‘¤ Obtener Perfil</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="localizacion_usuario">ğŸ“ LocalizaciÃ³n Usuario</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="envia_form">ğŸ“¤ Enviar Formulario</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="cargas_img">ğŸ–¼ï¸ Cargar ImÃ¡genes</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="validacion_Login">ğŸ” ValidaciÃ³n Login</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="api">ğŸŒ API</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="setTimeout">â° SetTimeout</button></li>
                    <li><button class="w-full px-4 py-3 bg-gradient-to-r from-indigo-400 to-purple-500 text-white rounded-lg font-medium text-left hover:-translate-y-1 hover:shadow-lg transition simulation-btn" data-sim="Macroalgoritmo">ğŸ§  Macro Algoritmo</button></li>
                </ul>
            </div>

            <div class="bg-white/90 backdrop-blur rounded-2xl p-8 shadow-lg flex flex-col">
                <div class="mb-6 pb-4 border-b-2 border-gray-200">
                    <h3 id="simulation-title" class="text-gray-700 text-2xl font-semibold mb-2">Selecciona una simulaciÃ³n</h3>
                    <p id="simulation-description" class="text-gray-500">Elige una simulaciÃ³n del panel lateral para comenzar</p>
                </div>

                <div class="flex-1 flex flex-col gap-6">
                    <div class="bg-gray-50 rounded-lg p-6 border border-gray-200 mb-4">
                        <h4 class="text-gray-700 text-lg font-semibold mb-4">ğŸ›ï¸ Panel de Control</h4>
                        <div id="control-inputs">
                            <p>Selecciona una simulaciÃ³n para ver los controles disponibles</p>
                        </div>
                        <button class="run-btn mt-4" id="run-simulation" disabled>â–¶ï¸ Ejecutar SimulaciÃ³n</button>
                        <button class="clear-btn mt-2" id="clear-output">ğŸ—‘ï¸ Limpiar</button>
                    </div>

                    <div class="flex-1 bg-gray-900 rounded-lg p-6 text-gray-100 font-mono text-sm overflow-y-auto border border-gray-800" id="output-area">
                        <div class="output-line info">Bienvenido al Panel de Simulaciones JavaScript</div>
                        <div class="output-line info">Selecciona una simulaciÃ³n del menÃº lateral para comenzar</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ConfiguraciÃ³n de simulaciones
        const simulations = {
            'control-errores': {
                title: 'Control de Errores',
                description: 'Ejemplo clÃ¡sico de manejo de errores usando .catch() al final de una cadena de promesas.',
                inputs: [
                    { type: 'text', label: 'Nombre del archivo', id: 'filename', value: 'inexistente.txt' }
                ],
                execute: (inputs) => {
                    const filename = inputs.filename;
                    log('Iniciando simulaciÃ³n de control de errores...', 'info');
                    
                    // Simular la funciÃ³n leerArchivo
                    function leerArchivo(path) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (path && path !== 'inexistente.txt') {
                                    resolve("Contenido del archivo: " + path);
                                } else {
                                    reject("Error: Archivo no encontrado - " + path);
                                }
                            }, 1000);
                        });
                    }

                    leerArchivo(filename)
                        .then(contenido => {
                            log("Contenido: " + contenido, 'success');
                        })
                        .catch(err => {
                            log("Error: " + err, 'error');
                        });
                }
            },
            'sensores': {
                title: 'Sensores',
                description: 'Simula la lectura de un sensor (temperatura) que devuelve su valor tras un pequeÃ±o retardo.',
                inputs: [],
                execute: () => {
                    log('Iniciando simulaciÃ³n de sensores...', 'info');
                    
                    function leerSensor() {
                        return new Promise(resolve => {
                            setTimeout(() => resolve("35Â°C"), 1000);
                        });
                    }

                    leerSensor().then(temp => {
                        log("Temperatura: " + temp, 'success');
                    });
                }
            },
            'inicia-promesa': {
                title: 'Inicia Promesa',
                description: 'Se inicia una promesa con un valor inicial, y cada .then() transforma el resultado anterior. Ideal para procesos en cadena.',
                inputs: [
                    { type: 'number', label: 'Valor inicial', id: 'initialValue', value: '2' }
                ],
                execute: (inputs) => {
                    const initialValue = parseInt(inputs.initialValue);
                    log('Iniciando cadena de promesas...', 'info');
                    
                    Promise.resolve(initialValue)
                        .then(v => {
                            log(`Valor inicial: ${v}`, 'info');
                            return v * 2;
                        })
                        .then(v => {
                            log(`DespuÃ©s de multiplicar por 2: ${v}`, 'info');
                            return v + 1;
                        })
                        .then(v => {
                            log("Resultado final: " + v, 'success');
                        });
                }
            },
            'rechaza': {
                title: 'Rechaza',
                description: 'Ejecuta una promesa que se comporta diferente segÃºn el valor recibido. Muy Ãºtil para flujos condicionales.',
                inputs: [
                    { type: 'number', label: 'Valor a verificar', id: 'valor', value: '12' }
                ],
                execute: (inputs) => {
                    const valor = parseInt(inputs.valor);
                    log('Verificando valor...', 'info');
                    
                    function verificarValor(valor) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (valor > 10) {
                                    resolve("Valor vÃ¡lido");
                                } else {
                                    reject("Valor demasiado bajo");
                                }
                            }, 1000);
                        });
                    }

                    verificarValor(valor)
                        .then(msg => {
                            log(msg, 'success');
                        })
                        .catch(err => {
                            log(err, 'error');
                        });
                }
            },
            'formulario': {
                title: 'ValidaciÃ³n de Formulario',
                description: 'Cada campo de un formulario se valida individualmente con una promesa. El envÃ­o solo se realiza si todas las validaciones se cumplen.',
                inputs: [
                    { type: 'text', label: 'Nombre', id: 'nombre', value: 'Juan' },
                    { type: 'text', label: 'Correo', id: 'correo', value: 'juan@email.com' }
                ],
                execute: (inputs) => {
                    log('Iniciando validaciÃ³n de formulario...', 'info');
                    
                    function validarNombre(nombre) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                nombre ? resolve() : reject("Nombre requerido");
                            }, 500);
                        });
                    }

                    function validarCorreo(correo) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                correo.includes("@") ? resolve() : reject("Correo invÃ¡lido");
                            }, 500);
                        });
                    }

                    Promise.all([
                        validarNombre(inputs.nombre),
                        validarCorreo(inputs.correo)
                    ])
                        .then(() => {
                            log("Formulario vÃ¡lido", 'success');
                        })
                        .catch(err => {
                            log("Error de validaciÃ³n: " + err, 'error');
                        });
                }
            },
            'secuecias': {
                title: 'Secuencias',
                description: 'Ejecuta varias funciones asÃ­ncronas en orden. Cada paso depende del anterior, lo cual es muy comÃºn en flujos de procesamiento.',
                inputs: [],
                execute: () => {
                    log('Iniciando secuencia de pasos...', 'info');
                    
                    function paso1() {
                        return new Promise(resolve => {
                            setTimeout(() => resolve("Paso 1 completado"), 1000);
                        });
                    }

                    function paso2() {
                        return new Promise(resolve => {
                            setTimeout(() => resolve("Paso 2 completado"), 1000);
                        });
                    }

                    function paso3() {
                        return new Promise(resolve => {
                            setTimeout(() => resolve("Paso 3 completado"), 1000);
                        });
                    }

                    paso1()
                        .then(res1 => {
                            log(res1, 'info');
                            return paso2();
                        })
                        .then(res2 => {
                            log(res2, 'info');
                            return paso3();
                        })
                        .then(res3 => {
                            log(res3, 'success');
                        })
                        .catch(err => {
                            log(err, 'error');
                        });
                }
            },
            'tiempodiferentes': {
                title: 'Tiempo Diferentes',
                description: 'Simula operaciones que toman diferentes tiempos de ejecuciÃ³n.',
                inputs: [],
                execute: () => {
                    log('Iniciando operaciones con diferentes tiempos...', 'info');
                    
                    const promesa1 = new Promise(resolve => setTimeout(() => resolve("RÃ¡pida (500ms)"), 500));
                    const promesa2 = new Promise(resolve => setTimeout(() => resolve("Media (1000ms)"), 1000));
                    const promesa3 = new Promise(resolve => setTimeout(() => resolve("Lenta (2000ms)"), 2000));

                    Promise.all([promesa1, promesa2, promesa3])
                        .then(resultados => {
                            log("Todas las operaciones completadas:", 'success');
                            resultados.forEach((resultado, index) => {
                                log(`OperaciÃ³n ${index + 1}: ${resultado}`, 'info');
                            });
                        });
                }
            },
            'json': {
                title: 'JSON',
                description: 'Simula el procesamiento de datos JSON.',
                inputs: [
                    { type: 'text', label: 'JSON de entrada', id: 'jsonInput', value: '{"nombre": "Juan", "edad": 25}' }
                ],
                execute: (inputs) => {
                    log('Procesando JSON...', 'info');
                    
                    try {
                        const datos = JSON.parse(inputs.jsonInput);
                        log("JSON vÃ¡lido", 'success');
                        log("Datos: " + JSON.stringify(datos, null, 2), 'info');
                    } catch (error) {
                        log("Error al procesar JSON: " + error.message, 'error');
                    }
                }
            },
            'simuacion_database': {
                title: 'SimulaciÃ³n Database',
                description: 'Simula operaciones de base de datos.',
                inputs: [
                    { type: 'text', label: 'Consulta SQL', id: 'query', value: 'SELECT * FROM usuarios' }
                ],
                execute: (inputs) => {
                    log('Ejecutando consulta de base de datos...', 'info');
                    
                    function ejecutarQuery(query) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (query.toLowerCase().includes('select')) {
                                    resolve([
                                        { id: 1, nombre: 'Juan', email: 'juan@email.com' },
                                        { id: 2, nombre: 'MarÃ­a', email: 'maria@email.com' }
                                    ]);
                                } else {
                                    reject("Consulta no vÃ¡lida");
                                }
                            }, 1500);
                        });
                    }

                    ejecutarQuery(inputs.query)
                        .then(resultados => {
                            log("Consulta ejecutada exitosamente", 'success');
                            log("Resultados: " + JSON.stringify(resultados, null, 2), 'info');
                        })
                        .catch(err => {
                            log("Error en la consulta: " + err, 'error');
                        });
                }
            },
            'espera': {
                title: 'Espera',
                description: 'Simula operaciones que requieren esperar.',
                inputs: [
                    { type: 'number', label: 'Tiempo de espera (ms)', id: 'waitTime', value: '2000' }
                ],
                execute: (inputs) => {
                    const waitTime = parseInt(inputs.waitTime);
                    log(`Esperando ${waitTime}ms...`, 'info');
                    
                    new Promise(resolve => {
                        setTimeout(() => {
                            resolve("Espera completada");
                        }, waitTime);
                    })
                    .then(resultado => {
                        log(resultado, 'success');
                    });
                }
            },
            'reintetar': {
                title: 'Reintentar',
                description: 'Simula reintentos de operaciones fallidas.',
                inputs: [
                    { type: 'number', label: 'NÃºmero de intentos', id: 'attempts', value: '3' }
                ],
                execute: (inputs) => {
                    const maxAttempts = parseInt(inputs.attempts);
                    let currentAttempt = 0;
                    
                    function intentarOperacion() {
                        currentAttempt++;
                        log(`Intento ${currentAttempt} de ${maxAttempts}...`, 'info');
                        
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (Math.random() > 0.5) {
                                    resolve("OperaciÃ³n exitosa");
                                } else {
                                    reject("OperaciÃ³n fallida");
                                }
                            }, 1000);
                        });
                    }

                    function reintentar() {
                        return intentarOperacion()
                            .then(resultado => {
                                log(resultado, 'success');
                            })
                            .catch(error => {
                                log(error, 'error');
                                if (currentAttempt < maxAttempts) {
                                    log("Reintentando...", 'info');
                                    return reintentar();
                                } else {
                                    throw new Error("MÃ¡ximo nÃºmero de intentos alcanzado");
                                }
                            });
                    }

                    reintentar();
                }
            },
            'cancelacion': {
                title: 'CancelaciÃ³n',
                description: 'Simula la cancelaciÃ³n de operaciones.',
                inputs: [],
                execute: () => {
                    log('Iniciando operaciÃ³n cancelable...', 'info');
                    
                    let cancelada = false;
                    
                    const operacion = new Promise((resolve, reject) => {
                        const timeout = setTimeout(() => {
                            if (!cancelada) {
                                resolve("OperaciÃ³n completada");
                            }
                        }, 3000);
                        
                        // Simular cancelaciÃ³n despuÃ©s de 1.5 segundos
                        setTimeout(() => {
                            if (!cancelada) {
                                cancelada = true;
                                clearTimeout(timeout);
                                reject("OperaciÃ³n cancelada");
                            }
                        }, 1500);
                    });

                    operacion
                        .then(resultado => {
                            log(resultado, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'img_multipl': {
                title: 'ImÃ¡genes MÃºltiples',
                description: 'Simula la carga de mÃºltiples imÃ¡genes.',
                inputs: [
                    { type: 'text', label: 'URLs de imÃ¡genes (separadas por coma)', id: 'imageUrls', value: 'img1.jpg,img2.jpg,img3.jpg' }
                ],
                execute: (inputs) => {
                    const urls = inputs.imageUrls.split(',').map(url => url.trim());
                    log(`Cargando ${urls.length} imÃ¡genes...`, 'info');
                    
                    const promesas = urls.map((url, index) => {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (Math.random() > 0.2) {
                                    resolve(`Imagen ${index + 1} cargada: ${url}`);
                                } else {
                                    reject(`Error al cargar imagen ${index + 1}: ${url}`);
                                }
                            }, Math.random() * 2000 + 500);
                        });
                    });

                    Promise.allSettled(promesas)
                        .then(resultados => {
                            log("Proceso de carga completado", 'success');
                            resultados.forEach((resultado, index) => {
                                if (resultado.status === 'fulfilled') {
                                    log(resultado.value, 'success');
                                } else {
                                    log(resultado.reason, 'error');
                                }
                            });
                        });
                }
            },
            'verificacionseec': {
                title: 'VerificaciÃ³n',
                description: 'Simula procesos de verificaciÃ³n.',
                inputs: [
                    { type: 'text', label: 'CÃ³digo de verificaciÃ³n', id: 'code', value: '123456' }
                ],
                execute: (inputs) => {
                    log('Verificando cÃ³digo...', 'info');
                    
                    function verificarCodigo(codigo) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (codigo === '123456') {
                                    resolve("CÃ³digo verificado correctamente");
                                } else {
                                    reject("CÃ³digo incorrecto");
                                }
                            }, 1000);
                        });
                    }

                    verificarCodigo(inputs.code)
                        .then(resultado => {
                            log(resultado, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'simulacion_compras': {
                title: 'SimulaciÃ³n de Compras',
                description: 'Simula un proceso de compra donde primero se valida si hay stock disponible y luego se procesa el pago.',
                inputs: [
                    { type: 'text', label: 'Producto', id: 'producto', value: 'Laptop' },
                    { type: 'text', label: 'Tarjeta', id: 'tarjeta', value: '1234-5678-9012-3456' }
                ],
                execute: (inputs) => {
                    log('Iniciando simulaciÃ³n de compra...', 'info');
                    
                    function validarStock(producto) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (producto) {
                                    log("Stock validado para: " + producto, 'info');
                                    resolve();
                                } else {
                                    reject("Producto no disponible");
                                }
                            }, 1000);
                        });
                    }

                    function procesarPago(tarjeta) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (tarjeta && tarjeta.length > 10) {
                                    log("Pago procesado con tarjeta: " + tarjeta.substring(0, 4) + "****", 'info');
                                    resolve();
                                } else {
                                    reject("Error en el procesamiento del pago");
                                }
                            }, 1500);
                        });
                    }

                    validarStock(inputs.producto)
                        .then(() => procesarPago(inputs.tarjeta))
                        .then(() => {
                            log("Compra exitosa", 'success');
                        })
                        .catch(err => {
                            log("Error en la compra: " + err, 'error');
                        });
                }
            },
            'operacions': {
                title: 'Operaciones',
                description: 'Simula operaciones matemÃ¡ticas asÃ­ncronas.',
                inputs: [
                    { type: 'number', label: 'NÃºmero 1', id: 'num1', value: '10' },
                    { type: 'number', label: 'NÃºmero 2', id: 'num2', value: '5' }
                ],
                execute: (inputs) => {
                    const num1 = parseInt(inputs.num1);
                    const num2 = parseInt(inputs.num2);
                    log('Realizando operaciones matemÃ¡ticas...', 'info');
                    
                    Promise.all([
                        new Promise(resolve => setTimeout(() => resolve(num1 + num2), 500)),
                        new Promise(resolve => setTimeout(() => resolve(num1 - num2), 500)),
                        new Promise(resolve => setTimeout(() => resolve(num1 * num2), 500)),
                        new Promise(resolve => setTimeout(() => resolve(num1 / num2), 500))
                    ])
                    .then(([suma, resta, multiplicacion, division]) => {
                        log(`Suma: ${suma}`, 'success');
                        log(`Resta: ${resta}`, 'success');
                        log(`MultiplicaciÃ³n: ${multiplicacion}`, 'success');
                        log(`DivisiÃ³n: ${division}`, 'success');
                    });
                }
            },
            'leer_archv': {
                title: 'Leer Archivo',
                description: 'Simula la lectura de archivos.',
                inputs: [
                    { type: 'text', label: 'Nombre del archivo', id: 'filename', value: 'documento.txt' }
                ],
                execute: (inputs) => {
                    log('Leyendo archivo...', 'info');
                    
                    function leerArchivo(nombre) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (nombre.endsWith('.txt')) {
                                    resolve(`Contenido del archivo ${nombre}: Lorem ipsum dolor sit amet`);
                                } else {
                                    reject("Formato de archivo no soportado");
                                }
                            }, 1000);
                        });
                    }

                    leerArchivo(inputs.filename)
                        .then(contenido => {
                            log(contenido, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'obtener_prefil': {
                title: 'Obtener Perfil',
                description: 'Simula la obtenciÃ³n de perfiles de usuario.',
                inputs: [
                    { type: 'text', label: 'ID de usuario', id: 'userId', value: '123' }
                ],
                execute: (inputs) => {
                    log('Obteniendo perfil de usuario...', 'info');
                    
                    function obtenerPerfil(id) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (id && id !== '0') {
                                    resolve({
                                        id: id,
                                        nombre: 'Usuario ' + id,
                                        email: 'usuario' + id + '@email.com',
                                        edad: 25 + parseInt(id) % 20
                                    });
                                } else {
                                    reject("Usuario no encontrado");
                                }
                            }, 1000);
                        });
                    }

                    obtenerPerfil(inputs.userId)
                        .then(perfil => {
                            log("Perfil obtenido", 'success');
                            log("Datos: " + JSON.stringify(perfil, null, 2), 'info');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'localizacion_usuario': {
                title: 'LocalizaciÃ³n Usuario',
                description: 'Simula la obtenciÃ³n de la ubicaciÃ³n del usuario.',
                inputs: [],
                execute: () => {
                    log('Obteniendo ubicaciÃ³n del usuario...', 'info');
                    
                    function obtenerUbicacion() {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (navigator.geolocation) {
                                    resolve({
                                        latitud: 40.7128,
                                        longitud: -74.0060,
                                        ciudad: 'Nueva York'
                                    });
                                } else {
                                    reject("GeolocalizaciÃ³n no disponible");
                                }
                            }, 1500);
                        });
                    }

                    obtenerUbicacion()
                        .then(ubicacion => {
                            log("UbicaciÃ³n obtenida", 'success');
                            log(`Latitud: ${ubicacion.latitud}`, 'info');
                            log(`Longitud: ${ubicacion.longitud}`, 'info');
                            log(`Ciudad: ${ubicacion.ciudad}`, 'info');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'envia_form': {
                title: 'Enviar Formulario',
                description: 'Simula el envÃ­o de formularios.',
                inputs: [
                    { type: 'text', label: 'Nombre', id: 'nombre', value: 'Juan PÃ©rez' },
                    { type: 'text', label: 'Email', id: 'email', value: 'juan@email.com' },
                    { type: 'text', label: 'Mensaje', id: 'mensaje', value: 'Hola mundo' }
                ],
                execute: (inputs) => {
                    log('Enviando formulario...', 'info');
                    
                    function enviarFormulario(datos) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (datos.nombre && datos.email && datos.mensaje) {
                                    resolve("Formulario enviado exitosamente");
                                } else {
                                    reject("Datos incompletos");
                                }
                            }, 2000);
                        });
                    }

                    enviarFormulario(inputs)
                        .then(resultado => {
                            log(resultado, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'cargas_img': {
                title: 'Cargar ImÃ¡genes',
                description: 'Simula la carga de imÃ¡genes.',
                inputs: [
                    { type: 'text', label: 'URL de la imagen', id: 'imageUrl', value: 'https://ejemplo.com/imagen.jpg' }
                ],
                execute: (inputs) => {
                    log('Cargando imagen...', 'info');
                    
                    function cargarImagen(url) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (url.includes('http')) {
                                    resolve("Imagen cargada: " + url);
                                } else {
                                    reject("URL invÃ¡lida");
                                }
                            }, 1500);
                        });
                    }

                    cargarImagen(inputs.imageUrl)
                        .then(resultado => {
                            log(resultado, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'validacion_Login': {
                title: 'ValidaciÃ³n Login',
                description: 'Simula la validaciÃ³n de credenciales de login.',
                inputs: [
                    { type: 'text', label: 'Usuario', id: 'usuario', value: 'admin' },
                    { type: 'password', label: 'ContraseÃ±a', id: 'password', value: '123456' }
                ],
                execute: (inputs) => {
                    log('Validando credenciales...', 'info');
                    
                    function validarLogin(usuario, password) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (usuario === 'admin' && password === '123456') {
                                    resolve("Login exitoso");
                                } else {
                                    reject("Credenciales incorrectas");
                                }
                            }, 1000);
                        });
                    }

                    validarLogin(inputs.usuario, inputs.password)
                        .then(resultado => {
                            log(resultado, 'success');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'api': {
                title: 'API',
                description: 'Simula llamadas a APIs.',
                inputs: [
                    { type: 'text', label: 'Endpoint', id: 'endpoint', value: '/api/usuarios' }
                ],
                execute: (inputs) => {
                    log('Llamando a la API...', 'info');
                    
                    function llamarAPI(endpoint) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (endpoint.includes('/api/')) {
                                    resolve({
                                        status: 200,
                                        data: [
                                            { id: 1, nombre: 'Usuario 1' },
                                            { id: 2, nombre: 'Usuario 2' }
                                        ]
                                    });
                                } else {
                                    reject("Endpoint no vÃ¡lido");
                                }
                            }, 1500);
                        });
                    }

                    llamarAPI(inputs.endpoint)
                        .then(response => {
                            log("API llamada exitosamente", 'success');
                            log("Respuesta: " + JSON.stringify(response, null, 2), 'info');
                        })
                        .catch(error => {
                            log(error, 'error');
                        });
                }
            },
            'setTimeout': {
                title: 'SetTimeout',
                description: 'Simula operaciones con setTimeout.',
                inputs: [
                    { type: 'number', label: 'Tiempo (ms)', id: 'time', value: '2000' }
                ],
                execute: (inputs) => {
                    const tiempo = parseInt(inputs.time);
                    log(`Ejecutando setTimeout de ${tiempo}ms...`, 'info');
                    
                    new Promise(resolve => {
                        setTimeout(() => {
                            resolve("OperaciÃ³n completada despuÃ©s de " + tiempo + "ms");
                        }, tiempo);
                    })
                    .then(resultado => {
                        log(resultado, 'success');
                    });
                }
            },
            'Macroalgoritmo': {
                title: 'Macro Algoritmo',
                description: 'Simula la lectura de un archivo local, como si fuera una operaciÃ³n asincrÃ³nica que puede tardar o fallar.',
                inputs: [
                    { type: 'text', label: 'Ruta del archivo', id: 'filepath', value: 'documento.txt' }
                ],
                execute: (inputs) => {
                    log('Iniciando macro algoritmo...', 'info');
                    
                    function leerArchivo(path) {
                        return new Promise((resolve, reject) => {
                            setTimeout(() => {
                                if (path) {
                                    resolve("Contenido leÃ­do del archivo: " + path);
                                } else {
                                    reject("Error al leer archivo");
                                }
                            }, 1000);
                        });
                    }

                    leerArchivo(inputs.filepath)
                        .then(contenido => {
                            log(contenido, 'success');
                        })
                        .catch(err => {
                            log("Error: " + err, 'error');
                        });
                }
            }
        };

        // Variables globales
        let currentSimulation = null;
        let originalConsoleLog = console.log;
        let originalConsoleError = console.error;

        // Elementos del DOM
        const simulationTitle = document.getElementById('simulation-title');
        const simulationDescription = document.getElementById('simulation-description');
        const controlInputs = document.getElementById('control-inputs');
        const runButton = document.getElementById('run-simulation');
        const outputArea = document.getElementById('output-area');
        const clearButton = document.getElementById('clear-output');

        // FunciÃ³n para mostrar logs en el Ã¡rea de salida
        function log(message, type = 'info') {
            const outputLine = document.createElement('div');
            outputLine.className = `output-line ${type}`;
            outputLine.innerHTML = `<span class="status-indicator status-${type}"></span>${message}`;
            outputArea.appendChild(outputLine);
            outputArea.scrollTop = outputArea.scrollHeight;
        }

        // FunciÃ³n para limpiar el Ã¡rea de salida
        function clearOutput() {
            outputArea.innerHTML = '';
        }

        // FunciÃ³n para crear controles de entrada
        function createInputs(inputs) {
            if (!inputs || inputs.length === 0) {
                return '<p>Esta simulaciÃ³n no requiere parÃ¡metros de entrada</p>';
            }

            let html = '';
            inputs.forEach(input => {
                html += `
                    <div class="input-group">
                        <label for="${input.id}">${input.label}:</label>
                        <input type="${input.type}" id="${input.id}" value="${input.value || ''}" />
                    </div>
                `;
            });
            return html;
        }

        // FunciÃ³n para obtener valores de entrada
        function getInputValues() {
            const inputs = {};
            const inputElements = controlInputs.querySelectorAll('input, select');
            inputElements.forEach(input => {
                inputs[input.id] = input.value;
            });
            return inputs;
        }

        // FunciÃ³n para cambiar simulaciÃ³n
        function changeSimulation(simulationId) {
            // Remover clase active de todos los botones
            document.querySelectorAll('.simulation-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Agregar clase active al botÃ³n seleccionado
            document.querySelector(`[data-sim="${simulationId}"]`).classList.add('active');

            // Actualizar informaciÃ³n de la simulaciÃ³n
            const simulation = simulations[simulationId];
            if (simulation) {
                currentSimulation = simulationId;
                simulationTitle.textContent = simulation.title;
                simulationDescription.textContent = simulation.description;
                controlInputs.innerHTML = createInputs(simulation.inputs);
                runButton.disabled = false;
                runButton.textContent = `â–¶ï¸ Ejecutar ${simulation.title}`;
            }
        }

        // Event listeners
        document.querySelectorAll('.simulation-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const simulationId = btn.getAttribute('data-sim');
                changeSimulation(simulationId);
                clearOutput();
                log(`SimulaciÃ³n seleccionada: ${simulations[simulationId]?.title}`, 'info');
            });
        });

        runButton.addEventListener('click', () => {
            if (currentSimulation && simulations[currentSimulation]) {
                clearOutput();
                const inputs = getInputValues();
                try {
                    simulations[currentSimulation].execute(inputs);
                } catch (error) {
                    log('Error al ejecutar la simulaciÃ³n: ' + error.message, 'error');
                }
            }
        });

        clearButton.addEventListener('click', clearOutput);

        // Interceptar console.log y console.error para mostrar en el Ã¡rea de salida
        console.log = function(...args) {
            originalConsoleLog.apply(console, args);
            log(args.join(' '), 'info');
        };

        console.error = function(...args) {
            originalConsoleError.apply(console, args);
            log(args.join(' '), 'error');
        };

        // InicializaciÃ³n
        log('Panel de Simulaciones JavaScript inicializado', 'success');
        log('Selecciona una simulaciÃ³n del menÃº lateral para comenzar', 'info');
    </script>
</body>
</html>